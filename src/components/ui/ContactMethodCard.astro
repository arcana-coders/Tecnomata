---
// src/components/ui/ContactMethodCard.astro
import IconWithColor from './IconWithColor.astro';

interface Props {
  title: string;
  description: string;
  icon: string;
  ctaText?: string;
  ctaHref?: string;
  badgeText?: string;
  color: 'green' | 'blue' | 'purple' | 'orange';
}

const { title, description, icon, ctaText, ctaHref, badgeText, color } = Astro.props as Props;

const colorClasses = {
  bg: {
    green: 'bg-gradient-to-r from-green-50 to-green-100/50',
    blue: 'bg-gradient-to-r from-blue-50 to-blue-100/50',
    purple: 'bg-gradient-to-r from-purple-50 to-purple-100/50',
    orange: 'bg-gradient-to-r from-orange-50 to-orange-100/50',
  },
  border: {
    green: 'border-green-200 hover:from-green-100 hover:to-green-200/50',
    blue: 'border-blue-200 hover:from-blue-100 hover:to-blue-200/50',
    purple: 'border-purple-200 hover:from-purple-100 hover:to-purple-200/50',
    orange: 'border-orange-200 hover:from-orange-100 hover:to-orange-200/50',
  },
  badgeBg: {
    green: 'bg-green-100 text-green-700',
    blue: 'bg-blue-100 text-blue-700',
    purple: 'bg-purple-100 text-purple-700',
    orange: 'bg-orange-100 text-orange-700',
  },
  ctaBg: {
    green: 'bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700',
    blue: 'bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700',
    purple: 'bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700',
    orange: 'bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700',
  }
}
---

<div class:list={["group relative backdrop-blur-sm rounded-2xl border p-8 transition-all duration-300 shadow-lg hover:shadow-xl", colorClasses.bg[color], colorClasses.border[color]]}>
  <div class="flex items-start gap-6">
    <div class="w-16 h-16 rounded-full border-2 border-blue-600 bg-white text-blue-600 flex items-center justify-center flex-shrink-0 group-hover:scale-105 transition-transform duration-300">
      <IconWithColor name={icon} context="nav" size="3xl" />
    </div>
    <div class="flex-1 font-dmsans">
      <div class="flex items-center gap-2 mb-2">
        <h3 class="text-2xl font-bold text-gray-900">{title}</h3>
        {badgeText && (
          <span class:list={["text-xs font-semibold px-2 py-1 rounded-full", colorClasses.badgeBg[color]]}>{badgeText}</span>
        )}
      </div>
      <p class="text-gray-600 mb-4 text-lg">{description}</p>
      {ctaText && ctaHref && (
        <a href={ctaHref} target="_blank" class:list={["inline-flex items-center gap-2 text-white px-6 py-3 rounded-xl font-bold shadow-lg hover:shadow-xl transition-all duration-300", colorClasses.ctaBg[color]]}>
          <span>{ctaText}</span>
          <IconWithColor name="arrow_right_alt" color="white" size="md" />
        </a>
      )}
      {!ctaText && !ctaHref && (
        <div class="text-gray-900 font-bold text-lg">
          <slot name="staticContent" />
        </div>
      )}
    </div>
  </div>
</div>