---
// src/components/seo/LocalBusinessSchema.astro
interface Props {
  businessName: string;
  serviceType: string;
  description: string;
  address: {
    streetAddress: string;
    addressLocality: string;
    addressRegion: string;
    postalCode: string;
    addressCountry: string;
  };
  contactPoint: {
    telephone: string;
    email: string;
  };
  areaServed: string[];
  services: string[];
  priceRange?: string;
}

const {
  businessName,
  serviceType,
  description,
  address,
  contactPoint,
  areaServed,
  services,
  priceRange = "$$"
} = Astro.props;

const schema = {
  "@context": "https://schema.org",
  "@type": "LocalBusiness",
  "@id": `https://tecnomata.com/${Astro.url.pathname}`,
  name: businessName,
  description: description,
  url: `https://tecnomata.com${Astro.url.pathname}`,
  telephone: contactPoint.telephone,
  email: contactPoint.email,
  priceRange: priceRange,
  address: {
    "@type": "PostalAddress",
    streetAddress: address.streetAddress,
    addressLocality: address.addressLocality,
    addressRegion: address.addressRegion,
    postalCode: address.postalCode,
    addressCountry: address.addressCountry
  },
  areaServed: areaServed.map(area => ({
    "@type": "City",
    name: area
  })),
  serviceType: serviceType,
  hasOfferCatalog: {
    "@type": "OfferCatalog",
    name: `Servicios de ${serviceType}`,
    itemListElement: services.map((service, index) => ({
      "@type": "Offer",
      itemOffered: {
        "@type": "Service",
        name: service
      },
      position: index + 1
    }))
  },
  aggregateRating: {
    "@type": "AggregateRating",
    ratingValue: "4.9",
    reviewCount: "127",
    bestRating: "5",
    worstRating: "1"
  },
  geo: {
    "@type": "GeoCoordinates",
    latitude: "18.9261",
    longitude: "-99.2319"
  },
  openingHoursSpecification: [
    {
      "@type": "OpeningHoursSpecification",
      dayOfWeek: ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday"],
      opens: "09:00",
      closes: "18:00"
    },
    {
      "@type": "OpeningHoursSpecification", 
      dayOfWeek: "Saturday",
      opens: "09:00",
      closes: "14:00"
    }
  ],
  sameAs: [
    "https://www.facebook.com/tecnomata",
    "https://www.instagram.com/tecnomata",
    "https://www.linkedin.com/company/tecnomata"
  ]
};
---

<script type="application/ld+json" set:html={JSON.stringify(schema)} />